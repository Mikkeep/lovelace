{% extends 'courses/base.html' %}
{% load staticfiles %}
{% load i18n %}

{% block page-title %}RAiPPA - {{ title }}{% endblock %}

{% block breadcrumb-links %}
  <li><a href="{% url 'courses:index' %}">{% trans 'Courses' %}</a></li>
  <div class="separator">Â»</div>
  <li><a href="{% url 'courses:course' course.slug %}">{{ course.name }}</a></li>
{% endblock %}

{% block page-content %}
<h1>{{ course.name }}</h1>

{% if content_tree %}
  <div class="course-contents">
    <h2>Course Contents</h2>
    {% for list_direction, result in content_tree %}
      {% if list_direction == '>' %}
        <ul>
          {% elif list_direction == '<' %}
        </ul>
      {% else %}
        <li>
          <a href="{% url 'courses:content' course.slug list_direction.slug %}">{{ list_direction.name }}</a>
          {% if result %}
            {% if result == 'unanswered' %}
              <img src="{% static 'courses/unanswered-16.png' %}" alt="Unanswered">
            {% elif result == 'correct' %}
              <img src="{% static 'courses/correct-16.png' %}" alt="Correctly answered">
            {% elif result == 'incorrect' %}
              <img src="{% static 'courses/incorrect-16.png' %}" alt="Incorrectly answered">
            {% endif %}
          {% endif %}
        </li>
      {% endif %}
    {% endfor %}
  </div>
{% endif %}

{% if content or tasktype %}
  {{ content|safe }}
  {% include "courses/task.html" %}
{% endif %}
{% endblock %}
