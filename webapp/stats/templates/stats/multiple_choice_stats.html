{% extends 'stats/exercise_stats.html' %}

{% load stats_tags %}

{% block user-answer-data %}
  {% for title, basic_stats, piechart, answer_data, answers_removed in stats %}
  <h3>{{ title }}</h3>
  <div class="stat-table">
    <div class="stat-table row">
      <div class="stat-table cell">
        {% show_basic_stats basic_stats %}
        <div>Removed choices have been picked {{ answers_removed }} times.</div>
      </div>
      <div class="stat-table cell">{% show_piechart piechart %}</div>
    </div>
  </div>
  {% if answer_data %}
  <table class="fixed"> 
    <colgroup>
      <col>
      <col class="count">
      <col class="correct">
      <col class="latest">
    </colgroup>
    <tr><th>User answer</th><th>Count</th><th>Correct?</th><th>Latest answer</th></tr>
    {% for answer, count, correct, latest in answer_data %}
    <tr>
      <td><pre class="overflow-x">{{ answer }}</pre></td>
      <td>{{ count }}</td>
      {% if correct %}
      <td class="correct">{{ correct }}</td>
      {% else %}
      <td class="incorrect">{{ correct }}</td>
      {% endif %}
      <td>{{ latest|date:"Y-m-d, H:i:s" }}</td>
    </tr>
    {% endfor %}
  </table>
  {% endif %}
  {% endfor %}
{% endblock %}
