<div id="edit-included-file-{{ include_file.id }}" class="popup" data-file-id="{{ include_file.id }}">
  <div>
    <h2 id="edit-included-file-title-{{ include_file.id }}" class="edit-included-file-title">{{ popup_title }}</h2>
    {% if include_file.fileinfo.url  %}
      <a href="{{ include_file.fileinfo.url }}" class="file-url" download></a>
    {% endif %}
    <div>
      <label for="included-file-{{ include_file.id }}">
        <span class="file-chmod-span">Choose file:</span>
        <input type="file" id="included-file-{{ include_file.id }}" name="included_file_[{{ include_file.id }}]"
               onchange="update_included_file_ok_button_state('{{ include_file.id }}');">
      </label>
    </div>
    <div>
      <label class="file-label" for="included-file-default-name-{{ include_file.id }}">
        <span class="file-default-name-span">Default name:</span>
        <input type="text" id="included-file-default-name-{{ include_file.id }}" class="file-default-name-input" maxlength="225"
               name="included_file_default_name_[{{ include_file.id }}]" value="{{ include_file.default_name }}"
               oninput="update_included_file_ok_button_state('{{ include_file.id }}');">
      </label>              
    </div>
    <div>
      <label class="file-label" for="included-file-name-{{ include_file.id }}">
        <span class="file-name-span">File name during test:</span>
        <input type="text" id="included-file-name-{{ include_file.id }}" class="file-name-input" maxlength="225"
               name="included_file_name_[{{ include_file.id }}]" value="{{ include_file.file_settings.name }}"
               oninput="update_included_file_ok_button_state('{{ include_file.id }}');">
      </label>
    </div>
    <div>
      <label class="file-label" for="included-file-description-{{ include_file.id }}">
        <div>File description:</div>
        <textarea id="included-file-description-{{ include_file.id }}" name="included_file_description_[{{ include_file.id }}]" class="file-description-area"
                  cols="117" rows="5" oninput="update_included_file_ok_button_state('{{ include_file.id }}');">{{ include_file.description }}</textarea>
      </label>
    </div>
    <div>
      <label class="file-label" for="included-file-purpose-{{ include_file.id }}">
        <span class="file-purpose-span">Used as:</span>
        <select id="included-file-purpose-{{ include_file.id }}" class="file-purpose-select" name="included_file_purpose_[{{ include_file.id }}]" form="main-form">
          <optgroup label="Files written into the test directory for reading">
            <option value="INPUT">Input file</option>
          </optgroup>
          <optgroup label="Files the program is expected to generate">
            <option value="OUTPUT">Expected output file</option>
          </optgroup>
          <optgroup label="Executable files">
            <option value="REFERENCE">Reference implementation</option>
            <option value="INPUTGEN">Input generator</option>
            <option value="WRAPPER">Wrapper for uploaded code</option>
            <option value="TEST">Unit test</option>
          </optgroup>
        </select>
      </label>
    </div>
    <div>
      <label class="file-label" for="included-file-chown-{{ include_file.id }}">
        <span class="file-chown-span">File user ownership:</span>
        <select id="included-file-chown-{{ include_file.id }}" class="file-chown-select" name="included_file_chown_[{{ include_file.id }}]" form="main-form">
          <option value="OWNED">Owned by the tested program</option>
          <option value="NOT_OWNED">Not owned by the tested program</option>
        </select>
      </label>
    </div>
    <div>
      <label class="file-label" for="included-file-chgrp-{{ include_file.id }}">
        <span class="file-chgrp-span">File group ownership:</span>
        <select id="included-file-chgrp-{{ include_file.id }}" class="file-chgrp-select" name="included_file_chgrp_[{{ include_file.id }}]" form="main-form">
          <option value="OWNED">Owned by the tested program</option>
          <option value="NOT_OWNED">Not owned by the tested program</option>
        </select>
      </label>
    </div>
    <div>
      <label class="file-label" for="included-file-chmod-{{ include_file.id }}">
        <span class="file-chmod-span">File access mode:</span>
        <input type="text" id="included-file-chmod-{{ include_file.id }}" class="file-chmod-input" maxlength="9"
               name="included_file_chmod_[{{ include_file.id }}]" value="{{ include_file.file_settings.chmod_settings }}"
               oninput="update_included_file_ok_button_state('{{ include_file.id }}');">
      </label>
      <div id="file-chmod-error-{{ include_file.id }}" class="admin-error"></div>
    </div>
    <div class="popup-buttons">
      <button type="button" id="included-file-ok-button-{{ include_file.id }}" class="popup-button"
              onclick="confirm_included_file_popup('{{ include_file.id }}')">Ok</button>
      <button type="button" class="popup-button" onclick="cancel_included_file_popup($('#edit-included-file-{{ include_file.id }}'), '{{ include_file.id }}')">Cancel</button>
    </div>
  </div>
</div>
